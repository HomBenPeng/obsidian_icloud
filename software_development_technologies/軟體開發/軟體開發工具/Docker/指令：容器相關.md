建立日期時間：2025 / 01 / 22
## 啟動
**補充說明：**
1. **容器的特性：** 容器是有輕量級的特性，讓使用者可以隨時刪除和新建立。
2. **啟動容器兩種方式**
	- **新建並啟動：** 
		- 將映像檔創建一個全新的容器並啟動。
		- 通常會在初始化一個新的應用程式或環境時會使用的方式。
		- 所使用的主要指令為`sudo docker run`
	- **特點：**
		- 創建一個新的容器，容器ID是全新的。
		- 新容器會依據映像檔設定的預設狀態和配置啟動。
		- 適用於需要多個相同環境的容器或新的運行實例。
	- **重新啟動** 
		- 將已經終止狀態的容器重新啟動
		- 這會保留之前運行容器的狀態（例如文件、變數、設定等），非常適合用於恢復之前的工作環境。
	- **特點：**
		 - 不會創建新的容器，而是重新啟動已存在且已停止的容器。
	    - 保留了先前運行容器的所有狀態和數據。
	    - 適用於需要持續工作或恢復特定狀態的容器。
#### 啟動相關指令
##### 新建並啟動
1. **新建並啟動容器（最基本的指令）：**
	-  **說明：** 從倉庫下載指定標籤版本的映像檔。
	-  **執行指令：** `sudo docker run -it --name <創建的容器名稱> <映像檔名稱>:<映像檔標籤>`
	-  **範例：** `sudo docker run -it --name my_container ubuntu:latest`
2. **指定執行的指令：**	
	-  **說明：**啟動容器後，指定要執行的指令 。
	-  **執行指令：** `sudo docker run -it --name <創建的容器名稱> <映像檔名稱>:<映像檔標籤> <執行指令路徑>`
	-  **範例：** `sudo docker run -it --name my_container ubuntu:latest /bin/bash`
##### 重新啟動
1. **重新啟動單個容器：**
	-  **說明：** 重新啟動指定的容器。如果該容器之前處於終止狀態，現在會被重新啟動。。
	-  **執行指令：** `sudo docker start <容器名稱>`
	-  **範例：** `sudo docker start my_container`
2. **重新啟動多個容器：**
	-  **說明：** 同時重新啟動指定的多個容器。每個容器會被獨立啟動。
	-  **執行指令：** `sudo docker start <容器名稱> <容器名稱1> <容器名稱2>`
	-  **範例：** `sudo docker start my_container my_container1 my_container2`
3. **重新啟動所有已停止的容器：**
	-  **說明：** 
		- 會重新啟動所有狀態為 "exited" 的容器。
		- `$(sudo docker ps -a -q -f status=exited)` 這段指令會列出所有已停止的容器的 ID，然後 `docker start` 會逐一啟動它們。
	-  **執行指令：** `sudo docker start $(sudo docker ps -a -q -f status=exited)`
## 常駐執行
**補充說明：**
1. 很多的時候，需要讓容器在後臺以常駐形式執行。
#### 常駐執行相關指令
1. **在背運行容器**
	-  **說明：** 將容器設置在背景運行 。
	-  **執行指令：** `sudo docker run -d --name <創建的容器名稱> <映像檔名稱>:<映像檔標籤>`
	-  **範例：** `sudo docker run -d --name my_container ubuntu:latest`
## 終止
**補充說明：**
1.指定停止運行中的容器。
#### 終止相關指令
1. **停止運行中的容器**
	-  **說明：** 
		1. 停止指定的容器。
		2. Docker 會向容器內的主線程發送 `SIGTERM` 信號，然後在一段時間後（預設為 10 秒），再發送 `SIGKILL` 信號，強制停止容器。如果容器在這段時間內沒有自己停止，Docker 會強制停止它。
	-  **執行指令：** `sudo docker stop <容器ID或名稱>`
	-  **範例：** `sudo docker stop my_container 或 123abc456def`
2.**重新啟動容器**
	-  **說明：** 
		1. 會先停止運行中的容器，然後再次啟動容器。
		2. 這相當於先執行 `docker stop`，然後再執行 `docker start`。
	-  **執行指令：** `sudo docker restart <容器ID或名稱>`
	-  **範例：** `sudo docker restart my_container 或 123abc456def`
##### 補充資料
**新建並啟動相關**
1. 使用 `docker run` 來建立容器時，Docker 在後臺執行的操作流程：
- 檢查本地是否存在指定的映像檔，不存在就從公有倉庫下載
- 利用映像檔建立並啟動一個容器
- 分配一個檔案系統，並在唯讀的映像檔層外面掛載一層可讀寫層
- 從宿主主機設定的網路橋介面中橋接一個虛擬埠到容器中去
- 從位址池中設定一個 ip 位址給容器
- 執行使用者指定的應用程式
- 執行完畢後容器被終止
2. 指令  `docker run` 
**重新啟動相關**