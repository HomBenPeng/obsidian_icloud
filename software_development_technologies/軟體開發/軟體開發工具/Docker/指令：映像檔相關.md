建立日期時間：2025 / 01 / 22
## 取得映像檔
**補充說明：**
1. **標籤：**
	- **說明：** 不使用標籤，會根據最新版本的標籤下載。
	- **標籤預設值：** `latest`
2. ** 倉庫：**
	- **說明：** 沒指定其他倉庫時，會使用預設倉庫下載。
	- **預設倉庫：** Docker Hub。

#### 取得映像檔相關指令
1. **指定標籤版本：**
	-  **說明：** 從倉庫下載指定標籤版本的映像檔。
	-  **執行指令：** `sudo docker pull <映像檔名稱>：<標籤>`
	-  **範例：** `sudo docker pull ubuntu：12.0.4`
2. **指定最新標籤版本：**
	-  **說明：**  從倉庫下載最新標籤版本的映像檔。
	-  **執行指令：** `sudo docker pull ubuntu:latest`
	-  **範例：** `sudo docker pull ubuntu：latest`
3. **指定其他倉庫：**
	-  **說明：** 可指定其他倉庫路徑，不指定會使用預設倉庫。
	-  **執行指令：** `sudo docker pull <倉庫URL>/<映像檔名稱>:<標籤>`
	-  **範例：** `sudo docker pull dl.dockerpool.com:5000/ubuntu:12.04`
4. **不使用標籤版本：** 
	-  **說明：** 不使用標籤版本，會從倉庫下載最新標籤版本。
	-  **執行指令：** `sudo docker pull <映像檔名稱>` 
	-  **範例：** `sudo docker pull ubuntu`	
 
#### 映像檔下載完成
##### 補充說明：
1. 下載完成後，即可隨時使用該映像檔了。
2. 下載過程中，Terminal（終端機）會輸出取得映像檔的每一層訊息。
#####  Terminal（終端機）輸出訊息
```
$ sudo docker pull ubuntu:12.04
Pulling repository ubuntu  // 正在從 Docker Hub 上的 Ubuntu 儲存庫下載映像檔。
ab8e2728644c: Pulling dependent layers // 正在取得所依賴的層次。Docker 映像檔由多個層次組成，而這些層次可能是其他映像檔的一部分。
511136ea3c5a: Download complete // 第一個層次下載完成。
5f0ffaa9455e: Download complete // 第二個層次下載完成。
a300658979be: Download complete // 第三個層次下載完成。
904483ae0c30: Download complete // 第四個層次下載完成。
ffdaafd1ca50: Download complete // 第五個層次下載完成。
d047ae21eeaf: Download complete // 第六個層次下載完成。
```

## 列出
#### 列出相關指令
1. **列出映像檔：**
	-  **說明：** 列出本機端已有的映像檔。
	-  **執行指令：** `sudo docker images`
	- 
#### 列出映像檔完成
#####  Terminal（終端機）輸出訊息
```
$ sudo docker images
REPOSITORY       TAG      IMAGE ID      CREATED      VIRTUAL SIZE
ubuntu           12.04    74fe38d11401  4 weeks ago  209.6 MB
ubuntu           precise  74fe38d11401  4 weeks ago  209.6 MB
ubuntu           14.04    99ec81b80c55  4 weeks ago  266 MB
ubuntu           latest   99ec81b80c55  4 weeks ago  266 MB
ubuntu           trusty   99ec81b80c55  4 weeks ago  266 MB
...
```
	
##### Terminal（終端機）輸出訊息說明：
1. **REPOSITORY：**   來自於哪個倉庫，例如 ubuntu
2. **TAG：** 映像檔標籤，例如 12.04
	- **補充：** 倉庫中有多個映像檔，通過 標籤來區分發行版本，例如 `10.04`、`12.04`、`12.10`、`13.04`、`14.04` ...等。
3. **IMAGE ID（唯一）：** IMAGE ID 是唯一不會重複。
	-  **補充：** 列出映像檔中`ubuntu：14.04` 與 `ubuntu：trusty` IMAGE ID 相同，說明這兩個映像檔是相同的。
4. **CREATED：** 建立時間
5. **VIRTUAL SIZE：** 映像檔大小

##  建立
**補充說明：** 建立映像檔有很多方法，使用者可以從 Docker Hub 取得已有映像檔並更新，也可以在本機建立一個。
#### 建立相關指令
1. **修改已有映象檔：** 
	-  **說明：** 不使用標籤版本，會從倉庫下載最新標籤版本。
	-  **執行指令：** `sudo docker pull <映像檔名稱>` 
	-  **範例：** `sudo docker pull ubuntu`
2. **利用 Dockerfile 建立映像檔：** 
##  儲存和載入
**補充說明：** 
1. **tar 檔：**
	- **打包**：`tar` 檔案可以將多個檔案和目錄打包成單個檔案，方便儲存和傳輸。
	- **壓縮**：雖然 `tar` 檔案本身不會進行壓縮，但它經常與壓縮工具（如 `gzip` 或 `bzip2`）結合使用，以減小檔案大小。這樣的檔案通常以 `.tar.gz` 或 `.tar.bz2` 為副檔名。
	- **便於備份**：`tar` 檔案常用於備份數據，因為它保留了檔案的目錄結構和屬性。
	- **工具**：在大多數 Unix 和 Linux 系統中，有一個名為 `tar` 的工具，用來創建、提取和管理 `tar` 檔案。

#### 儲存和載入指令
1. **儲存映像檔**
	- **說明：** 
		1. **備份映像檔**：將 Docker 映像檔儲存成 tar 檔案可以用來備份，防止原始映像檔因意外刪除或損壞而丟失。
		2. **傳輸映像檔**：tar 檔案可以方便地傳輸到其他伺服器或電腦，適合用來在不同環境之間移動 Docker 映像檔。
		3. **共享映像檔**：您可以將 tar 檔案分享給其他人，他們可以使用 `docker load` 指令將映像檔載入到他們的 Docker 系統中。
		4. 儲存映像檔的過程中，所有的層次和歷史紀錄都會包含在 tar 檔案中，因此接收者在載入映像檔後將獲得完整的映像檔。
	- **執行步驟：**
		1. **選擇要被儲存的映像檔 **
			- **說明：** 列出本機端映像檔，紀錄被儲存的映像檔資訊（映像檔名稱和映像檔標籤）。
			- **執行指令：** `sudo docker images`
		2. **執行儲存指令**
			-  說明：使用儲存指令將要被儲存的映像檔儲存為一個 tar 檔。
			-  執行指令：`sudo docker save -o <輸出映像檔名稱>.tar <被儲存的映像檔名稱>:<被儲存的標籤>`
		3. **儲存完成**
			- 說明：執行指令後會產生一個 tar 檔。
		- **注意：**
			- 確保 `sudo docker images` 執行後，有找到您想要儲存的映像檔名稱和標籤。
			- 請檢查 `輸出映像檔名稱` 和 `被儲存的映像檔名稱` 是否正確無誤。
	- **Terminal（終端機）輸出訊息**
	```
	$ sudo docker images // 列出本機端映像檔
	REPOSITORY     TAG     IMAGE ID       CREATED       VIRTUAL SIZE
	ubuntu         14.04   c4ff7513909d   5 weeks ago   225.4 MB
	...
	$sudo docker save -o ubuntu_14.04.tar ubuntu:14.04 // 執行儲存指令
	```
2. **載入映像檔**
	- **說明：** 
		1. **恢復備份**：如果您之前已使用 `docker save` 備份了一個映像檔，現在可以使用 `docker load` 從備份中恢復映像檔
		2. **跨系統傳輸**：如果您將 Docker 映像檔從一個系統傳輸到另一個系統，可以在目標系統中使用 `docker load` 來載入該映像檔。
		3. **共享映像檔**：如果您將 Docker 映像檔以 tar 檔案的形式分享給其他人，接收者可以使用 `docker load` 來載入該映像檔。
	- **載入映像檔相關指令**
		1.**載入`tar` 檔案：** 
			- **說明：** 使用載入映象檔指令，載入 `tar` 檔案。
			- **執行指令：** `sudo docker load --input <生成的tar檔名>.tar`
##  移除
 **說明：**
1. **釋放磁碟空間**：Docker 映像檔可能會佔用大量的磁碟空間。移除不再需要的映像檔可以釋放這些空間，讓您的系統有更多的可用資源。
2. **清理環境**：隨著時間的推移，您可能會累積許多不再使用或過期的映像檔。定期清理這些映像檔可以保持開發和測試環境的整潔。
3. **避免混淆**：過多的映像檔可能會讓您在查找和管理映像檔時感到困惑。移除不需要的映像檔有助於簡化映像檔管理，避免錯誤地使用過時或不相關的映像檔。
4. **安全性：**有些映像檔可能包含已知的漏洞或安全問題。移除這些映像檔可以降低安全風險。
5. **移除映像檔：**
	- 移除映像檔之前，需要先移除基於該映像檔運行的所有容器。
	- 確定容器已停止運行，如果容器正在運行，Docker 會阻止移除映像檔。
#### 移除相關指令
 1. **移除映像檔：**
	-  **說明：** 移除本地端映像檔庫中不需要的映像檔。
	-  **執行指令：** `sudo docker rmi <映像檔ID或名稱>:<映像檔標籤>`
	-  **範例：** `sudo docker rmi ubuntu：12.0.4`
2. **移除容器：**
	-  **說明：**移除本地端容器庫中不需要的容器。
	-  **執行指令：** `sudo docker rm <容器ID或容器名稱>`
	-  **範例：** `sudo docker rm my_container 或 123abc456def`
#### 移除映像檔執行步驟
1. **檢查正在運行的容器：**
	-  **說明：** 列出所有正在運行的容器。
	-  **執行指令：** `sudo docker ps>`
2. **檢查所有容器運行狀態：**	
	-  **說明：** 列出所有容器，包括已停止的容器。
	-  **執行指令：** `sudo docker ps -a`
3. **停止正在運行的容器（如果有的話）：**	
	-  **說明：** 停止運行指定的容器名稱或容器ID。
	-  **執行指令：** `sudo docker stop <容器ID或名稱>`
	-  **範例：** `sudo docker stop my_container 或 123abc456def`
 4. **移除容器：**
	-  **說明：**移除本地端容器庫中不需要的容器。
	-  **執行指令：** `sudo docker rm <容器ID或容器名稱>`
	-  **範例：** `sudo docker rm my_container 或 123abc456def`
5.  **移除映像檔：**
	-  **說明：** 移除本地端映像檔庫中不需要的映像檔。
	-  **執行指令：** `sudo docker rmi <映像檔ID或名稱>:<映像檔標籤>`
	-  **範例：** `sudo docker rmi ubuntu：12.0.4`
6. **檢查是否成功移除：**
	- **說明：** 列印出映像檔清單，檢查移除的映像檔是否成功移除。
	- **執行指令：** `sudo docker images`
	- **檢查輸出：** 如果移除的映像檔不出現在映像檔清單中，表示移除成功。
